<!-- Contact Us page -->
<!DOCTYPE html>
<html>
  <head>
    <%- include('partials/header.ejs') %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="/css/styles.css">
  </head>

<body>
  <%- include('partials/navbar1.ejs') %>

  <div class="container my-5">
    <div class="row contact-section">

      <!-- Left Column -->
      <div class="col-md-6 mb-4">
        <h4>Want to know more?</h4>
        <p><strong style="color: #1f11ea;">Phone:</strong>
          <span style="color: #1f11ea;">0800 TINY TRS (0800 846 9877)</span>
        </p>

        <!-- Social Links -->
        <p>
          <a href="https://www.facebook.com" target="_blank" style="color: #1f11ea;">
            <i class="fab fa-facebook fa-lg"></i> Facebook</a>
        </p>
        <p>
          <a href="https://www.instagram.com" target="_blank" style="color: #1f11ea;">
            <i class="fab fa-instagram fa-lg"></i> Instagram</a>
        </p>
        <p>
          <a href="https://www.linkedin.com" target="_blank" style="color: #1f11ea;">
            <i class="fab fa-linkedin fa-lg"></i> LinkedIn</a>
        </p>
        <!-- Map -->
        <div class="mt-3">
          <iframe
            src="https://www.google.com/maps?q=48+Leo+Street,+Glen+Eden,+Auckland&output=embed"
            width="100%" height="300" style="border:0;" allowfullscreen loading="lazy">
          </iframe>
        </div>
      </div>
      <!-- Right Column (Form) -->
      <div class="col-md-6 blue-form">
        <h4>We’d love to hear from you!</h4>
        <p style="color: #1f11ea;">
          Fill in the form below and we’ll be in touch to let you know all about the 
          <strong style="color: #1f11ea;">Tiny Treasures</strong> difference.
        </p>
        <!-- Contact Form -->
        <form id="contactForm" action="/contactus" method="POST">
          <div class="mb-3">
            <label for="fname" class="form-label">First name:</label>
            <input type="text" class="form-control" id="fname" name="fname" required>
          </div>

          <div class="mb-3">
            <label for="lname" class="form-label">Last name:</label>
            <input type="text" class="form-control" id="lname" name="lname" required>
          </div>

          <div class="mb-3">
            <label for="email" class="form-label">Email:</label>
            <input type="email" class="form-control" id="email" name="email" required>
          </div>

          <div class="mb-3">
            <label for="phone" class="form-label">Phone number:</label>
            <input type="text" class="form-control" id="phone" name="phone" required>
          </div>

          <div class="mb-4">
            <label for="message" class="form-label">Message:</label>
            <textarea class="form-control" id="message" name="message" rows="3" required></textarea>
          </div>

          <!-- Buttons -->
          <button type="submit" class="btn btn-outline-success contact-submit-btn" style="color: #1f11ea;">SUBMIT</button>
         
          <!-- Cancel button is inactive if the form is empty -->
            <a href="#" id="cancelBtn" onclick="clearContactForm(event)" 
            class="btn btn-outline-success contact-submit-btn disabled"
            style="color: #1f11ea; text-decoration: none; margin-left: 10px; pointer-events: none;">CANCEL</a>

        </form>

        <!-- Success message -->
        <div id="clearMessage" style="margin-top: 10px; color: green; display: none;">
          Form cleared!
        </div>
      </div>

    </div>
  </div>

  <!-- Footer -->
  <div class="footer1">
    <%- include('partials/footer.ejs') %>
  </div>

  <!-- JS for clearing form and showing message for 2s-->
  <script>
  const form = document.getElementById('contactForm');
  const cancelBtn = document.getElementById('cancelBtn');

  function checkFormFields() {
    const hasInput = Array.from(form.elements).some(field => {
      return field.type !== "submit" && field.type !== "button" && field.value.trim() !== "";
    });

    if (hasInput) {
      cancelBtn.classList.remove("disabled");
      cancelBtn.style.pointerEvents = "auto";
    } else {
      cancelBtn.classList.add("disabled");
      cancelBtn.style.pointerEvents = "none";
    }
  }

  // Check on input change
  form.addEventListener("input", checkFormFields);

  function clearContactForm(event) {
    event.preventDefault();
    form.reset();
    checkFormFields(); // Update cancel button state

    const msg = document.getElementById('clearMessage');
    msg.style.display = 'block';
    setTimeout(() => msg.style.display = 'none', 2000);
  }
</script>

</body>
</html>
<!-- End of Contact Us page -->